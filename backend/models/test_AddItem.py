import pytest

from models.AddItem import parse_user_id

def test_parse_user_id_throw_error():
    with pytest.raises(ValueError):
        parse_user_id(None)

def test_parse_user_id():
    jwt_token = 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkJLeU1SSldYQW1QenlMZ25TTWM5QyJ9.eyJpc3MiOiJodHRwczovL2Rldi1jY2E0Y203Yy5ldS5hdXRoMC5jb20vIiwic3ViIjoiYXV0aDB8NjAwZDMyMWE1MjM4ZmIwMDY5NWY2NWUyIiwiYXVkIjoiUTZkb0ZxTEk1WTBtOVhyQmYwRjJWdklDQWpNZ3hSSkgiLCJpYXQiOjE2MTE1MTE1NzQsImV4cCI6MTYxMTk0MzU3NCwiYXRfaGFzaCI6InE0YWVFZzVNT1V6dmY1ZUxLMjdHWVEiLCJub25jZSI6IjM2VXJCYmtxZzd4RWIxZ05HdE5LUm9FSWtWTy1zVWlVIn0.BrUeEieoBS-kIVPjBcGkJm3_jPQhJD8qE4eL9L4CNudakvpMRliXn26tnaYh2lhth7cfkTwxLw2BRFkWfJq4gOHJ98GZlDXxYLneygWNFT86jHkYOiLhJHkbcbEP4gB7Hg5yvUK-K0qH2JPp0ymP7-NyiLkC3rlY8Rulrd23Bx-ZC8ZcTnWUFfD8ZguWyfbLDR6miFFqS8Xwz9RQaes3eJpM8gaO0s6GIqDYGLVMv_1-1LXWA4DGXTcANkEQmpSiwuztV-2JHh7wlVeC7kbkxgiUXU-hO1ZWfZdZrS-h7zVGlDP-5AyQP8rpaTnmctL29BEEtlLx-fCWauUUZUaV_A'

    assert parse_user_id(jwt_token) == 'auth0|600d321a5238fb00695f65e2'